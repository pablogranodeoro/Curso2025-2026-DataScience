[
  {
    "op": "core/text-transform",
    "engineConfig": {
      "facets": [],
      "mode": "row-based"
    },
    "columnName": "DESCRIPCION",
    "expression": "value.toUppercase()",
    "onError": "keep-original",
    "repeat": false,
    "repeatCount": 10,
    "description": "Transforma el texto de las celdas en la columna DESCRIPCION usando la expresión value.toUppercase()"
  },
  {
    "op": "core/column-addition",
    "engineConfig": {
      "facets": [],
      "mode": "row-based"
    },
    "baseColumnName": "LATITUD",
    "expression": "join ([coalesce(cells['LATITUD'].value,''),coalesce(cells['LONGITUD'].value,'')],'; ')",
    "onError": "keep-original",
    "newColumnName": "COORDENADA",
    "columnInsertIndex": 4,
    "description": "Crear la columna COORDENADA en el índice 4 basada en la columna LATITUD usando la expresión join ([coalesce(cells['LATITUD'].value,''),coalesce(cells['LONGITUD'].value,'')],'; ')"
  },
  {
    "op": "core/column-reorder",
    "columnNames": [
      "_id",
      "CÓDIGO",
      "DESCRIPCION",
      "COORDENADA",
      "DIRECCIÓN",
      "C.P.",
      "POBLACION",
      "PROVINCIA",
      "Fichas",
      "Túneles lavado"
    ],
    "description": "Reorganizar columnas"
  },
  {
    "op": "core/column-addition",
    "engineConfig": {
      "facets": [],
      "mode": "row-based"
    },
    "baseColumnName": "COORDENADA",
    "expression": "grel:\"(\"+value+\")\"",
    "onError": "set-to-blank",
    "newColumnName": "COORDENADAS",
    "columnInsertIndex": 4,
    "description": "Crear la columna COORDENADAS en el índice 4 basada en la columna COORDENADA usando la expresión grel:\"(\"+value+\")\""
  },
  {
    "op": "core/column-removal",
    "columnName": "COORDENADA",
    "description": "Eliminar columna COORDENADA"
  },
  {
    "op": "core/text-transform",
    "engineConfig": {
      "facets": [],
      "mode": "row-based"
    },
    "columnName": "POBLACION",
    "expression": "value.toUppercase()",
    "onError": "keep-original",
    "repeat": false,
    "repeatCount": 10,
    "description": "Transforma el texto de las celdas en la columna POBLACION usando la expresión value.toUppercase()"
  },
  {
    "op": "core/text-transform",
    "engineConfig": {
      "facets": [],
      "mode": "row-based"
    },
    "columnName": "PROVINCIA",
    "expression": "value.toUppercase()",
    "onError": "keep-original",
    "repeat": false,
    "repeatCount": 10,
    "description": "Transforma el texto de las celdas en la columna PROVINCIA usando la expresión value.toUppercase()"
  },
  {
    "op": "core/column-removal",
    "columnName": "Fichas",
    "description": "Eliminar columna Fichas"
  },
  {
    "op": "core/column-removal",
    "columnName": "Túneles lavado",
    "description": "Eliminar columna Túneles lavado"
  },
  {
    "op": "core/column-addition",
    "engineConfig": {
      "facets": [],
      "mode": "row-based"
    },
    "baseColumnName": "POBLACION",
    "expression": "grel:if (value.contains(\",\"), split(value,\",\")[1].trim()+\" \"+split(value,\",\")[0],value)",
    "onError": "set-to-blank",
    "newColumnName": "POBLACIÓN",
    "columnInsertIndex": 7,
    "description": "Crear la columna POBLACIÓN en el índice 7 basada en la columna POBLACION usando la expresión grel:if (value.contains(\",\"), split(value,\",\")[1].trim()+\" \"+split(value,\",\")[0],value)"
  },
  {
    "op": "core/column-removal",
    "columnName": "POBLACION",
    "description": "Eliminar columna POBLACION"
  }
]